///////////////////////////////////////////////////////////////
//  Big.js
//  v0.9.0 (beta)
///////////////////////////////////////////////////////////////
//  http://github.com/whatgoodisaroad/Big-js
//  By Wyatt Allen
//  MIT Licensed
//  2011-09-19 (Monday, 19 September 2011)
///////////////////////////////////////////////////////////////
var Big;
(function(){function p(a,b){a=a.clone();b=b.clone();if(a.sign!=b.sign)return a.sign==k?n:g;else if(a.exponent!=b.exponent)return a.sign==k?a.exponent>b.exponent?n:g:a.exponent>b.exponent?g:n;else{var c=r(a,b);return a.sign==k?u(c.l.mantissa,c.r.mantissa):u(c.r.mantissa,c.l.mantissa)}}function u(a,b){a=a.slice();b=b.slice();if(b.length){if(!a.length)return h(b)?o:g}else return h(a)?o:n;if(a[0]>b[0])return n;else if(a[0]<b[0])return g;return u(a.splice(1),b.splice(1))}function h(a){return/^0*$/.test(a.join(""))}function v(a){return B(a.join("").replace(/0+$/,
""))}function w(a,b){return b.length<a?b.concat(s(a-b.length,0)):b}function s(a,b){if(a<=0)return[];for(var c=Array(a),d=0;d<a;++d)c[d]=b;return c}function E(a,b){for(var c=Array(b.length),d=0;d<b.length;++d)c[d]=a(b[d]);return c}function B(a){return E(function(a){return parseInt(a,10)},a.split(""))}function m(a){if(h(a.mantissa))return x;var b;b=(b=a.mantissa.join("").match(/^(0+)[1-9]/))?b[1].length:0;var c;c=(c=a.mantissa.join("").match(/(0+)$/))?c[1].length:0;return a.mantissa.length?b?new Big(a.sign,
a.exponent-b,v(b<1?a.mantissa.slice():a.mantissa.slice(b))):c?new Big(a.sign,a.exponent,v(a.mantissa)):a:new Big(a.sign,a.exponent,[])}function r(a,b){return a.exponent==b.exponent?{l:a,r:b}:a.exponent<b.exponent?{l:new Big(a.sign,b.exponent,a.mantissa.length<b.exponent-a.exponent+a.mantissa.length?s(b.exponent-a.exponent+a.mantissa.length-a.mantissa.length,0).concat(a.mantissa):a.mantissa),r:b}:{l:a,r:new Big(b.sign,a.exponent,b.mantissa.length<a.exponent-b.exponent+b.mantissa.length?s(a.exponent-
b.exponent+b.mantissa.length-b.mantissa.length,0).concat(b.mantissa):b.mantissa)}}function y(a,b){var c=a.mantissa.length,d=b.mantissa.length;return c==d?{l:a,r:b}:c<d?{l:new Big(a.sign,a.exponent,w(d,a.mantissa)),r:b}:{l:a,r:new Big(b.sign,b.exponent,w(c,b.mantissa))}}function l(a){return new Big(!a.sign,a.exponent,a.mantissa)}function z(a,b){var c=r(a,b),c=y(c.l,c.r);if(a.sign==b.sign){var d=Big,f=a.sign,e=c.l.exponent+1,i=c.l.mantissa,c=c.r.mantissa,g=Array(i.length+1),j;j=0;for(var h=i.length-
1;h>=0;--h)j=j+i[h]+c[h],g[h+1]=j%10,j=j>9?1:0;g[0]=j;return new d(f,e,g)}else return u(c.l.mantissa,c.r.mantissa)==o?x:a.sign==k?t(c.l,l(c.r)):t(c.r,l(c.l))}function t(a,b){a=m(a);b=m(b);if(a.isZero())return l(a);if(b.isZero())return a.clone();var c=p(a,b);if(c==o)return x;if(a.sign==b.sign){if(a.sign==q)return t(l(b),l(a));if(c==g)return l(t(b,a));c=r(a,b);c=y(c.l,c.r);return new Big(a.sign,c.l.exponent,A(c.l.mantissa,c.r.mantissa))}else return a.sign==k?z(a,l(b)):l(z(l(a),b))}function A(a,b){if(a.length==
0)return[];var c=a.slice(0,a.length-1),d=b.slice(0,b.length-1),f=a[a.length-1],e=b[b.length-1];return f<e?A(C(c),d).concat([f+10-e]):A(c,d).concat([f-e])}function C(a){return a[a.length-1]==0?C(a.slice(0,a.length-1)).concat([9]):a.slice(0,a.length-1).concat([a[a.length-1]-1])}function D(a,b,c,d,f){if(d>=Big.precision)return f.DIVISION_ROUNDOFF=!0,f.DIVISION_REMAINDER=c.toString(),[];if(!a.length&&h(c.mantissa))return f.DIVISION_ROUNDOFF=!1,[];var e;if(a.length){var i={x:a[0],xs:a.slice(1)},a=i.x;
e=i.xs}else a=0,e=[];for(var g,j,i=9;i>=0;--i)if(j=b.times(new Big(i)),i==0||j.lessThanOrEqualTo(c))break;g={q:i,prod_bn:j};j=g.q;i=D;c=c.minus(g.prod_bn);c=c.times(new Big(10)).plus(new Big(a));b=i(e,b,c,d==0&&j==0?0:d+1,f);return[j].concat(b)}var k=!1,q=!0,n=0,g=1,o=2;Big=function(a,b,c,d){typeof a=="number"&&(a=""+a);if(a.substring)return a=a.replace(/(^\s+)|(\s+$)/g,""),b=/^[+-]/.test(a),c=/^[+-]?\d*\.\d*$/.test(a),d=b?a.slice(1):a,m(new Big(b&&a[0]=="-"?q:k,c?d.indexOf(".")-1:d.length-1,B(d.replace(".",
""))));else this.sign=a,this.exponent=b,this.mantissa=c,this.flags=d||{},this.expr=this.toString()};Big.POSITIVE=k;Big.NEGATIVE=q;Big.parse=function(a){return new Big(a)};Big.precision=20;Big.prototype.toString=function(){if(h(this.mantissa))return"0";var a=m(this),b=(this.sign==q?"-":"")+(a.exponent<0?"0":w(a.exponent+1,a.mantissa.slice(0,a.exponent+1)).join(""));a=a.exponent>=0?a.mantissa.length==a.exponent?"":"."+v(a.exponent+1<1?a.mantissa.slice():a.mantissa.slice(a.exponent+1)).join(""):"."+
s(-a.exponent-1,"0").join("")+a.mantissa.join("");return b+a};Big.prototype.lessThan=function(a){return p(this,a)==g};Big.prototype.greaterThan=function(a){return p(this,a)==n};Big.prototype.equals=function(a){return p(this,a)==o};Big.prototype.lessThanOrEqualTo=function(a){a=p(this,a);return a==g||a==o};Big.prototype.greaterThanOrEqualTo=function(a){a=p(this,a);return a==n||a==o};Big.prototype.plus=function(a){return m(z(this,a))};Big.prototype.minus=function(a){return m(t(this,a))};Big.prototype.times=
function(a){var b;b=r(this,a);b=y(b.l,b.r);for(var c=b.l.mantissa.length,d=s(2*c,0),f=c-1;f>=0;--f)for(var e=c-1;e>=0;--e)d[f+e+1]+=b.r.mantissa[f]*b.l.mantissa[e];c=d.slice();for(f=c.length-1;f>0;--f)e=c[f],e>9&&(d=e%10,e=(e-d)/10,c[f-1]+=e,c[f]=d);a=new Big(this.sign==a.sign?k:q,2*b.l.exponent+1,c);return m(a)};Big.prototype.over=function(a){var b,c;b=r(this,a);var d;d=b.l.mantissa.length-b.r.mantissa.length>0?new Big(Math.pow(10,b.l.mantissa.length-b.l.exponent-1)):new Big(Math.pow(10,b.r.mantissa.length-
b.r.exponent-1));c={l:b.l.times(d),r:b.r.times(d)};b={};d=Big;var a=this.sign==a.sign?k:q,f=c.l.exponent;var e=c.l;c=c.r;if(h(e.mantissa))c=[];else if(h(c.mantissa))throw"Division by zero";else e={x:e.mantissa[0],xs:e.mantissa.slice(1)},c=D(e.xs,new Big(k,c.exponent,c.mantissa),new Big(e.x),0,b);b=new d(a,f,c,b);return m(b)};Big.prototype.isZero=function(){return h(this.mantissa)};Big.prototype.clone=function(){return new Big(this.sign,this.exponent,this.mantissa.slice())};Big.prototype.negate=function(){var a=
this.clone();a.sign=!a.sign;return a};var x=new Big(k,0,[])})();
